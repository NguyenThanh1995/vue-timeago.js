!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["vue-timeagojs"]={})}(this,(function(e){"use strict";var t=["second","minute","hour","day","week","month","year"];var n=["秒","分钟","小时","天","周","个月","年"];var r={},i=function(e,t){r[e]=t},a=[60,60,24,7,365/7/12,12];function o(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}var u=function(e,t,n){return function(e,t){for(var n=e<0?1:0,r=e=Math.abs(e),i=0;e>=a[i]&&i<a.length;i++)e/=a[i];return(e=Math.floor(e))>(0==(i*=2)?9:1)&&(i+=1),t(e,i,r)[n].replace("%s",e.toString())}(function(e,t){return(+(t?o(t):new Date)-+o(e))/1e3}(e,n&&n.relativeDate),function(e){return r[e]||r.en_US}(t))};i("en_US",(function(e,n){if(0===n)return["just now","right now"];var r=t[Math.floor(n/2)];return e>1&&(r+="s"),[e+" "+r+" ago","in "+e+" "+r]})),i("zh_CN",(function(e,t){if(0===t)return["刚刚","片刻后"];var r=n[~~(t/2)];return[e+" "+r+"前",e+" "+r+"后"]}));var l={interval:null,props:{tag:{type:String,default:"span"},time:{type:[String,Date,Number],required:!0},locale:{type:String,required:!1,default:"en_US"},delay:{type:Number,default:1e3}},data:function(){return{now:Date.now()}},computed:{text:function(){return u(this.time,this.locale,this.now)}},watch:{delay:{handler:function(e){var t=this;clearInterval(this.$options.interval),e>0&&(this.$options.interval=setInterval((function(){t.now=Date.now()}),e))},immediate:!0}},beforeDestroy:function(){clearInterval(this.$options.interval)},destroyed:function(){clearInterval(this.$options.interval)},render:function(e){return e(this.tag,this.text)}},s={install:function(e){e.component("vue-timeagojs",l)}};e.VueTimeagojs=l,e.default=s,e.register=i,Object.defineProperty(e,"__esModule",{value:!0})}));
